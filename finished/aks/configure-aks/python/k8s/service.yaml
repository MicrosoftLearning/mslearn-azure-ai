apiVersion: v1
kind: Service
metadata:
  name: aks-config-api-service
  labels:
    app: aks-config-api
  annotations:
    service.beta.kubernetes.io/azure-load-balancer-internal: "false"  # Use public load balancer
spec:
  type: LoadBalancer  # Expose service externally via Azure Load Balancer
  selector:  # Route traffic to pods matching these labels
    app: aks-config-api
    version: v1
  ports:  # Map external port to container port
  - name: http
    port: 80  # External port for incoming traffic
    targetPort: http  # Forward to container's http port (8000)
    protocol: TCP
  sessionAffinity: None  # Distribute requests across all pods
